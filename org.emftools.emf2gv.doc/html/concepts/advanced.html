<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>Advanced concepts</title>
	<link rel="stylesheet" href="book.css" charset="ISO-8859-1" type="text/css">
</head>

<body>
<h1>Advanced concepts</h1>

<a name="RichAttributeFigure"><h2>Rich attribute figure</h2></a>

<p>The <em>RichAttributeFigure</em> is used to render an <em>EObject</em> the same way as a simple attribute value (in other words with an <a href="basic.html#AttributeFigure">AttributeFigure</a>).</p>

<p>It is helpful when it is not necessary to show the whole content of an </em>EObject</em> as a complete node.</p>

<p>A <em>RichAttributeFigure</em> label is configured through an OCL expression (in order to be flexible enough to meet your own needs). TODO link OCL+functions</p>

<p>For example, with the school sample, it is possible to represent the <em>Students</em> directly in the <em>Classroom</em> nodes (see the right diagram) instead of representing them fully as nodes (as on the left diagram) :
<table cellspacing="0" border="0">
	<tr>
		<td><img src="images/sample-school-thumb.jpg"></td>
		<td><img src="../images/arrow.gif"></td>
		<td><img src="images/sample-school-richattribute-thumb.jpg"></td>
	</tr>
</table>
</p>

<p>It accepts the following properties : </p>

<table cellspacing="0" border="1">
<tr><th>Category</th><th>Name</th><th>Description</th></tr>
<tr><td valign="top" aligne="left" rowspan="2">Appearance</td>
<td valign="top" aligne="left">labelExpression</td><td valign="top" aligne="left">The OCL expression to use to build the string representation for the EObject that is targeted by the EReference</td></tr>
<tr><td valign="top" aligne="left">labelStyle</td><td valign="top" aligne="left">The style of the attribute figure's label</td></tr>
<tr><td valign="top" aligne="left" rowspan="1">Model</td>
<td valign="top" aligne="left">eReference</td><td valign="top" aligne="left">The EReference that gives the rich attribute(s) EObject(s)</td></tr>
</table>

<a name="RichReferenceFigure"><h2>Rich reference figure</h2></a>

<p>The <em>RichReferenceFigure</em> is used to render an <em>EObject</em> the same way as a reference (in other words with an <a href="basic.html#ReferenceFigure">ReferenceFigure</a>).</p>

<p>It is helpful when your model contains <em>Association classes</em>. In other words, it is helpful when you want to represent a relation between two <em>EObjects</em> that goes through an intermediate <em>EObject</em> without representing that intermediate </em>EObject</em> as a complete node.</p>

<p>A <em>RichReferenceFigure</em> also allows to attach up to three labels on the edge (at the start, in the middle and at the end). The labels are configured through an OCL expression (in order to be flexible enough to meet your own needs). TODO link OCL+functions</p>

<p>For example, with the school sample, it is possible to represent the <em>Students</em> directly in the <em>Classroom</em> nodes (see the right diagram) instead of representing them fully as nodes (as on the left diagram) :
<table cellspacing="0" border="0">
	<tr>
		<td><img src="images/sample-school-thumb.jpg"></td>
		<td><img src="../images/arrow.gif"></td>
		<td><img src="images/sample-school-richreference-thumb.jpg"></td>
	</tr>
</table>
</p>

<p>It accepts the following properties : </p>

<table cellspacing="0" border="1">
<tr><th>Category</th><th>Name</th><th>Description</th></tr>
<tr><td valign="top" aligne="left" rowspan="15">Appearance</td>
<td valign="top" aligne="left">color</td><td valign="top" aligne="left">The edge color</td></tr>
<tr><td valign="top" aligne="left">customSourceArrow</td><td valign="top" aligne="left">The custom source arrow (graphviz compliant arrow style, ignored if sourceArrowType is not set to 'custom')</td></tr>
<tr><td valign="top" aligne="left">customTargetArrow</td><td valign="top" aligne="left">The custom target arrow (graphviz compliant arrow style, ignored if targetArrowType is not set to 'custom')</td></tr>
<tr><td valign="top" aligne="left">labelAngle</td><td valign="top" aligne="left">This, along with labeldistance, determine where the headlabel (taillabel) are placed with respect to the head (tail) in polar coordinates. The origin in the coordinate system is the point where the edge touches the node. The ray of 0 degrees goes from the origin back along the edge, parallel to the edge at the origin. (same as Graphviz labelangle property)</td></tr>
<tr><td valign="top" aligne="left">labelDistance</td><td valign="top" aligne="left">Multiplicative scaling factor adjusting the distance that the headlabel(taillabel) is from the head(tail) node (same as Graphviz labeldistance property)</td></tr>
<tr><td valign="top" aligne="left">minimumEdgeLength</td><td valign="top" aligne="left">Minimum edge length (same as Graphviz minlen property)</td></tr>
<tr><td valign="top" aligne="left">sourceArrowType</td><td valign="top" aligne="left">The source arrow type</td></tr>
<tr><td valign="top" aligne="left">sourceLabelExpression</td><td valign="top" aligne="left">The OCL expression to use to build the source label of the edge</td></tr>
<tr><td valign="top" aligne="left">sourceLabelStyle</td><td valign="top" aligne="left">The style of the source label</td></tr>
<tr><td valign="top" aligne="left">standardLabelExpression</td><td valign="top" aligne="left">The OCL expression to use to build the standard (centered) label of the edge</td></tr>
<tr><td valign="top" aligne="left">standardLabelStyle</td><td valign="top" aligne="left">The style of the standard (centered) label</td></tr>
<tr><td valign="top" aligne="left">style</td><td valign="top" aligne="left">The edge style</td></tr>
<tr><td valign="top" aligne="left">targetArrowType</td><td valign="top" aligne="left">The target arrow type</td></tr>
<tr><td valign="top" aligne="left">targetLabelExpression</td><td valign="top" aligne="left">The OCL expression to use to build the target label of the edge</td></tr>
<tr><td valign="top" aligne="left">targetLabelStyle</td><td valign="top" aligne="left">The style of the target label</td></tr>
<tr><td valign="top" aligne="left" rowspan="2">Model</td>
<td valign="top" aligne="left">eReference</td><td valign="top" aligne="left">The EReference that this figure will represent on the graph</td></tr>
<tr><td valign="top" aligne="left">targetEReference</td><td valign="top" aligne="left">The target EReference of the rich reference EClass</td></tr>
</table>

<a name="Filter"><h2>Filter</h2></a>

<p>The <em>Filter</em> allows to filter the nodes that will be represented on the diagram. A filter is built over an OCL constraint that tells to emf2gv if an <em>EOjbtec</em> must be drawn or not.</p>

<p>The filters must meet the following rules :
<ul>
	<li>A <em>Filter</em> is associated to one <em>EClass</em> (see the properties below)</li>
	<li>If a <em>Filter</em> is associated to an <em>EClass</em>, it is applicable for all the <em>EClass</em> instances, including the ones that inheritates from it</li>
	<li>If one or more filters applies to a given <em>EClass</em>, all the correponding expressions are evaluated and a logical <em>AND</em> is applied on them</li>
</ul>
</p>

<p>It accepts the following properties : </p>

<table cellspacing="0" border="1">
<tr><th>Category</th><th>Name</th><th>Description</th></tr>
<tr><td valign="top" aligne="left" rowspan="3">-</td>
<td valign="top" aligne="left">enabled</td><td valign="top" aligne="left">A boolean indicating if the filter is enabled or not</td></tr>
<tr><td valign="top" aligne="left">filterExpression</td><td valign="top" aligne="left">The OCL expression that is used to evaluate if the EObjects of the specified filter type (EClass) are to be shown in the diagram (the expression must return a boolean value)</td></tr>
<tr><td valign="top" aligne="left">filteredType</td><td valign="top" aligne="left">The type (EClass) to which this filter will be applied</td></tr>
</table>

<a name="DynamicPropertyOverrider"><h2>Dynamic property overrider</h2></a>

<p>The <em>DynamicPropertyOverrider</em> TODO.</p>

<p>It accepts the following properties : </p>

<table cellspacing="0" border="1">
<tr><th>Category</th><th>Name</th><th>Description</th></tr>
<tr><td valign="top" aligne="left" rowspan="3">-</td>
<td valign="top" aligne="left">enabled</td><td valign="top" aligne="left">A boolean indicating if the dynamic property overrider is enabled or not</td></tr>
<tr><td valign="top" aligne="left">overridingExpression</td><td valign="top" aligne="left">The OCL expression to be used to retrieve the overriding property value</td></tr>
<tr><td valign="top" aligne="left">propertyToOverride</td><td valign="top" aligne="left">The figure's appearance property to override</td></tr>
</table>

</body>
</html>
